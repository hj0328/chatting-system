<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>채팅 시스템 통합</title>
    <script src="https://cdn.jsdelivr.net/npm/stompjs/lib/stomp.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client/dist/sockjs.min.js"></script>
    <script src="/js/chat.js" defer></script>
    <style>
        body {
          font-family: Arial, sans-serif;
        }
        #topMenu {
          display: flex;
          gap: 10px;
          margin-bottom: 20px;
        }
        #messages {
          border: 1px solid #ccc;
          padding: 10px;
          margin-top: 10px;
          height: 200px;
          overflow-y: scroll;
        }
        #inputArea {
          display: flex;
          gap: 10px;
          margin-top: 10px;
        }

        #chatDisplayContainer > div {
    background-color: #f9f9f9;
    border-radius: 8px;
    }

    #messagesRoom p,
    #messagesDirect p {
        margin: 5px 0;
    }
    </style>
</head>
<body>

<div id="topMenu">
    <button id="logoutBtn">로그아웃</button>
</div>
<!-- 채팅 메시지 표시 영역 (세로 분할) -->
<div id="chatDisplayContainer" style="display: flex; gap: 20px; margin-top: 20px;">
    <!-- 방 채팅 영역 -->
    <div style="flex: 1;">
        <h3>방 채팅</h3>
        <div id="messagesRoom" style="border: 1px solid #ccc; height: 300px; overflow-y: scroll; padding: 10px;"></div>

        <!-- Room 전용 입력창 -->
        <div id="chatConfig" style="margin-bottom: 20px;">
            <input type="text" id="roomInput" placeholder="방 ID" />
            <button id="joinRoomBtn">방 입장</button>
        </div>
        <div style="margin-top: 10px; display: flex; gap: 10px;">
            <input type="text" id="roomMessageInput" placeholder="방 메시지를 입력하세요" style="flex: 1;">
            <button id="sendRoomBtn">방 전송</button>
        </div>
    </div>

    <!-- DM 채팅 영역 -->
    <div style="flex: 1;">
        <h3>1:1 채팅</h3>
        <div id="messagesDirect" style="border: 1px solid #ccc; height: 300px; overflow-y: scroll; padding: 10px;"></div>

        <!-- DM 전용 입력창 -->
        <input type="text" id="receiverInput" placeholder="1:1 채팅 대상 Username" />
        <div style="margin-top: 10px; display: flex; gap: 10px;">
            <input type="text" id="dmMessageInput" placeholder="DM 메시지를 입력하세요" style="flex: 1;">
            <button id="sendDmBtn">DM 전송</button>
        </div>
    </div>
</div>

</body>
</html>
